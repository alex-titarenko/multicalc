<mat-dialog-content>
  <div class="checkered-bg">
    <div class="color-picker-preview" [style.background]="color">
      <span [ngClass]="{'dark': !color.isDark() || color.getAlpha() < 0.45}">{{ color }}</span>
    </div>
  </div>
  <div>
    <mat-tab-group mat-stretch-tabs headerPosition="below" class="color-picker-tabs">
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon>view_module</mat-icon>
        </ng-template>

        <div class="color-picker-tab-content pallete-tab">
          <div *ngFor="let row of palette" class="pallete-row">
            <div *ngFor="let color of row" [style.background]="color" class="pallete-color" (click)="updateColor(color)">
            </div>
          </div>
        </div>
      </mat-tab>
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon>tune</mat-icon>
        </ng-template>

        <div class="color-picker-tab-content color-sliders-tab">
          <span>R</span>
          <mat-slider min="0" max="255" step="1" class="red-channel" (input)="updateColorChannel('_r', $event.value)" [value]="color.toRgb().r"></mat-slider>
          <input matInput type="number" min="0" max="255" step="1" (ngModelChange)="updateColorChannel('_r', $event)" [ngModel]="color.toRgb().r">

          <span>G</span>
          <mat-slider min="0" max="255" step="1" class="green-channel" (input)="updateColorChannel('_g', $event.value)" [value]="color.toRgb().g"></mat-slider>
          <input matInput type="number" min="0" max="255" step="1" (ngModelChange)="updateColorChannel('_g', $event)" [ngModel]="color.toRgb().g">

          <span>B</span>
          <mat-slider min="0" max="255" step="1" class="blue-channel" (input)="updateColorChannel('_b', $event.value)" [value]="color.toRgb().b"></mat-slider>
          <input matInput type="number" min="0" max="255" step="1" (ngModelChange)="updateColorChannel('_b', $event)" [ngModel]="color.toRgb().b">

          <span>A</span>
          <mat-slider min="0" max="1" step="0.01" class="alpha-channel" (input)="updateColorChannel('_a', $event.value)" [value]="color.getAlpha()"></mat-slider>
          <input matInput type="number" min="0" max="1" step="0.01" (ngModelChange)="updateColorChannel('_a', $event)" [ngModel]="color.getAlpha()">
        </div>
      </mat-tab>
    </mat-tab-group>
  </div>

</mat-dialog-content>

<mat-dialog-actions>
  <button mat-button [mat-dialog-close]="null">Cancel</button>
  <button mat-button [mat-dialog-close]="color.toString()">Select</button>
</mat-dialog-actions>
